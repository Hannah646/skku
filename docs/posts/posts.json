[
  {
    "path": "posts/2021-03-17-hwhouseprice/",
    "title": "HousePrice",
    "description": "SalePrice Prediction",
    "author": [
      {
        "name": "Soo Yean Jung",
        "url": {}
      }
    ],
    "date": "2021-03-17",
    "categories": [],
    "contents": "\n데이터 준비\n\n\nShow code\n\nlibrary(readxl)\nlibrary(dplyr)\ndata <- read.csv(\"train.csv\")\ntest <- read.csv(\"test.csv\")\n\n\n\n\n\nShow code\n\ndata <- data %>%\n        mutate(TtoS = YrSold - YearBuilt,\n               TotBath = BsmtFullBath + BsmtHalfBath + FullBath + HalfBath)\n\ntest <- test %>%\n        mutate(TtoS = YrSold - YearBuilt,\n               TotBath = BsmtFullBath + BsmtHalfBath + FullBath + HalfBath)\n\n\n\n데이터 관계 살펴보기\n\n\nShow code\n\npairs( cbind( data$LotArea, data$X1stFlrSF,data$GarageArea, data$TotRmsAbvGrd, data$TotBath, data$TtoS, data$SalePrice), panel=function(x,y){\n  points(x,y)\n  abline(lm(y~x), col='red')})\n\n\n\n\n회귀분석 수행\n\n\nShow code\n\nhouseprice <- lm(SalePrice ~ LotArea + X1stFlrSF + GarageArea + TotRmsAbvGrd + TotBath + TtoS, data = data )\n\nhouseprice\n\n\n\nCall:\nlm(formula = SalePrice ~ LotArea + X1stFlrSF + GarageArea + TotRmsAbvGrd + \n    TotBath + TtoS, data = data)\n\nCoefficients:\n (Intercept)       LotArea     X1stFlrSF    GarageArea  TotRmsAbvGrd  \n  -1.969e+04     4.796e-01     5.560e+01     7.906e+01     1.041e+04  \n     TotBath          TtoS  \n   1.895e+04    -5.569e+02  \n\n\n\nShow code\n\nqt(0.025, 85)\n\n\n[1] -1.988268\n\nShow code\n\nqt(0.975, 85)\n\n\n[1] 1.988268\n\nShow code\n\nsummary(houseprice)\n\n\n\nCall:\nlm(formula = SalePrice ~ LotArea + X1stFlrSF + GarageArea + TotRmsAbvGrd + \n    TotBath + TtoS, data = data)\n\nResiduals:\n    Min      1Q  Median      3Q     Max \n-443535  -22890   -3200   17860  371139 \n\nCoefficients:\n               Estimate Std. Error t value Pr(>|t|)    \n(Intercept)  -1.969e+04  6.439e+03  -3.057 0.002274 ** \nLotArea       4.796e-01  1.275e-01   3.763 0.000175 ***\nX1stFlrSF     5.560e+01  3.833e+00  14.504  < 2e-16 ***\nGarageArea    7.906e+01  7.203e+00  10.976  < 2e-16 ***\nTotRmsAbvGrd  1.041e+04  9.236e+02  11.266  < 2e-16 ***\nTotBath       1.895e+04  1.763e+03  10.751  < 2e-16 ***\nTtoS         -5.569e+02  5.131e+01 -10.852  < 2e-16 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 45590 on 1453 degrees of freedom\nMultiple R-squared:  0.672, Adjusted R-squared:  0.6706 \nF-statistic: 496.1 on 6 and 1453 DF,  p-value: < 2.2e-16\n\n회귀모형 진단\n\n\nShow code\n\npar(mfrow=c(2,2))\nplot(houseprice)\n\n\n\n\ntest 파일을 모형에 채택한 변수만 select해서 data를 살펴보자.\n\n\nShow code\n\ntest2 <- test %>%\n        select(Id, LotArea, X1stFlrSF, GarageArea, TotRmsAbvGrd, TotBath, TtoS)\n\nsummary(test2)\n\n\n       Id          LotArea        X1stFlrSF        GarageArea    \n Min.   :1461   Min.   : 1470   Min.   : 407.0   Min.   :   0.0  \n 1st Qu.:1826   1st Qu.: 7391   1st Qu.: 873.5   1st Qu.: 318.0  \n Median :2190   Median : 9399   Median :1079.0   Median : 480.0  \n Mean   :2190   Mean   : 9819   Mean   :1156.5   Mean   : 472.8  \n 3rd Qu.:2554   3rd Qu.:11518   3rd Qu.:1382.5   3rd Qu.: 576.0  \n Max.   :2919   Max.   :56600   Max.   :5095.0   Max.   :1488.0  \n                                                 NA's   :1       \n  TotRmsAbvGrd       TotBath           TtoS       \n Min.   : 3.000   Min.   :1.000   Min.   : -1.00  \n 1st Qu.: 5.000   1st Qu.:2.000   1st Qu.:  7.00  \n Median : 6.000   Median :2.000   Median : 34.00  \n Mean   : 6.385   Mean   :2.447   Mean   : 36.41  \n 3rd Qu.: 7.000   3rd Qu.:3.000   3rd Qu.: 55.00  \n Max.   :15.000   Max.   :8.000   Max.   :129.00  \n                  NA's   :2                       \n\nGarageArea와 TotBath 각각 결측치가 1개와 2개가 있다. 결측치를 제외하도록 하자.\n\n\nShow code\n\ntest2 <- test2 %>%\n        filter(!is.na(GarageArea) & !is.na(TotBath))\n\nsummary(test2)\n\n\n       Id          LotArea        X1stFlrSF        GarageArea    \n Min.   :1461   Min.   : 1470   Min.   : 407.0   Min.   :   0.0  \n 1st Qu.:1825   1st Qu.: 7392   1st Qu.: 872.8   1st Qu.: 318.0  \n Median :2190   Median : 9414   Median :1079.5   Median : 480.0  \n Mean   :2190   Mean   : 9797   Mean   :1155.0   Mean   : 472.8  \n 3rd Qu.:2554   3rd Qu.:11516   3rd Qu.:1382.2   3rd Qu.: 576.0  \n Max.   :2919   Max.   :56600   Max.   :5095.0   Max.   :1488.0  \n  TotRmsAbvGrd       TotBath           TtoS       \n Min.   : 3.000   Min.   :1.000   Min.   : -1.00  \n 1st Qu.: 5.000   1st Qu.:2.000   1st Qu.:  7.00  \n Median : 6.000   Median :2.000   Median : 34.00  \n Mean   : 6.384   Mean   :2.448   Mean   : 36.35  \n 3rd Qu.: 7.000   3rd Qu.:3.000   3rd Qu.: 55.00  \n Max.   :15.000   Max.   :8.000   Max.   :129.00  \n\n\n\nShow code\n\ndim(test2)\n\n\n[1] 1456    7\n\nPredict해서 test2에 변수 SalePrice를 추가하자\n\n\nShow code\n\ntest2 <- test2 %>%\n        mutate(SalePrice = predict(houseprice, newdata = test2, type = \"response\")) %>% \n        glimpse()\n\n\nRows: 1,456\nColumns: 8\n$ Id           <int> 1461, 1462, 1463, 1464, 1465, 1466, 1467, 1468,…\n$ LotArea      <int> 11622, 14267, 13830, 9978, 5005, 10000, 7980, 8…\n$ X1stFlrSF    <int> 896, 1329, 928, 926, 1280, 763, 1187, 789, 1341…\n$ GarageArea   <int> 730, 312, 482, 470, 506, 440, 420, 393, 506, 52…\n$ TotRmsAbvGrd <int> 5, 6, 6, 7, 5, 7, 6, 7, 5, 4, 5, 5, 6, 6, 4, 10…\n$ TotBath      <int> 1, 2, 3, 3, 2, 3, 3, 3, 3, 2, 3, 2, 2, 3, 1, 3,…\n$ TtoS         <int> 49, 52, 13, 12, 18, 17, 18, 12, 20, 40, 11, 39,…\n$ SalePrice    <dbl> 137105.38, 157086.90, 188688.68, 196743.92, 173…\n\nSubmission파일 저장\n\n\nShow code\n\nsubmission <- test2 %>% \n              select(Id, SalePrice)\n\nwrite.csv(submission,\"submission.csv\")\n\n\n\n\n\n\n",
    "preview": "posts/2021-03-17-hwhouseprice/hwhouseprice_files/figure-html5/unnamed-chunk-2-1.png",
    "last_modified": "2021-03-18T12:05:00+00:00",
    "input_file": "hwhouseprice.utf8.md"
  },
  {
    "path": "posts/2021-03-14-ameshousing/",
    "title": "AmesHousing",
    "description": "AmesHousing EDA.",
    "author": [
      {
        "name": "Soo Yean Jung",
        "url": {}
      }
    ],
    "date": "2021-03-14",
    "categories": [],
    "contents": "\n1. 데이터 준비, 패키지 준비\n\n\nShow code\n\nlibrary(AmesHousing)\nlibrary(dplyr)\nlibrary(ggplot2)\n\n\n\n2. 데이터 파악\n데이터를 분석하기에 앞서 데이터를 파악해보자. 미국 Ames지역에 있는 2930개의 주택통계정보를 담은 AmesHousing 데이터를 이용할 것이다\n\n\nShow code\n\ndim(ames_raw)\n\n\n[1] 2930   82\n\n우리는 2930개의 주택에 대한 82가지 변수의 통계자료로 구성되어 있음을 알 수 있다. 변수가 너무 많기 때문에 $SalePrice에 영향을 미치는 변수를 고려해 원하는 데이터로 가공하려고 한다.\n\n\nShow code\n\nglimpse(ames_raw)\n\n\nRows: 2,930\nColumns: 82\n$ Order             <int> 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13,…\n$ PID               <chr> \"0526301100\", \"0526350040\", \"0526351010\", …\n$ `MS SubClass`     <chr> \"020\", \"020\", \"020\", \"020\", \"060\", \"060\", …\n$ `MS Zoning`       <chr> \"RL\", \"RH\", \"RL\", \"RL\", \"RL\", \"RL\", \"RL\", …\n$ `Lot Frontage`    <int> 141, 80, 81, 93, 74, 78, 41, 43, 39, 60, 7…\n$ `Lot Area`        <int> 31770, 11622, 14267, 11160, 13830, 9978, 4…\n$ Street            <chr> \"Pave\", \"Pave\", \"Pave\", \"Pave\", \"Pave\", \"P…\n$ Alley             <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…\n$ `Lot Shape`       <chr> \"IR1\", \"Reg\", \"IR1\", \"Reg\", \"IR1\", \"IR1\", …\n$ `Land Contour`    <chr> \"Lvl\", \"Lvl\", \"Lvl\", \"Lvl\", \"Lvl\", \"Lvl\", …\n$ Utilities         <chr> \"AllPub\", \"AllPub\", \"AllPub\", \"AllPub\", \"A…\n$ `Lot Config`      <chr> \"Corner\", \"Inside\", \"Corner\", \"Corner\", \"I…\n$ `Land Slope`      <chr> \"Gtl\", \"Gtl\", \"Gtl\", \"Gtl\", \"Gtl\", \"Gtl\", …\n$ Neighborhood      <chr> \"NAmes\", \"NAmes\", \"NAmes\", \"NAmes\", \"Gilbe…\n$ `Condition 1`     <chr> \"Norm\", \"Feedr\", \"Norm\", \"Norm\", \"Norm\", \"…\n$ `Condition 2`     <chr> \"Norm\", \"Norm\", \"Norm\", \"Norm\", \"Norm\", \"N…\n$ `Bldg Type`       <chr> \"1Fam\", \"1Fam\", \"1Fam\", \"1Fam\", \"1Fam\", \"1…\n$ `House Style`     <chr> \"1Story\", \"1Story\", \"1Story\", \"1Story\", \"2…\n$ `Overall Qual`    <int> 6, 5, 6, 7, 5, 6, 8, 8, 8, 7, 6, 6, 6, 7, …\n$ `Overall Cond`    <int> 5, 6, 6, 5, 5, 6, 5, 5, 5, 5, 5, 7, 5, 5, …\n$ `Year Built`      <int> 1960, 1961, 1958, 1968, 1997, 1998, 2001, …\n$ `Year Remod/Add`  <int> 1960, 1961, 1958, 1968, 1998, 1998, 2001, …\n$ `Roof Style`      <chr> \"Hip\", \"Gable\", \"Hip\", \"Hip\", \"Gable\", \"Ga…\n$ `Roof Matl`       <chr> \"CompShg\", \"CompShg\", \"CompShg\", \"CompShg\"…\n$ `Exterior 1st`    <chr> \"BrkFace\", \"VinylSd\", \"Wd Sdng\", \"BrkFace\"…\n$ `Exterior 2nd`    <chr> \"Plywood\", \"VinylSd\", \"Wd Sdng\", \"BrkFace\"…\n$ `Mas Vnr Type`    <chr> \"Stone\", \"None\", \"BrkFace\", \"None\", \"None\"…\n$ `Mas Vnr Area`    <int> 112, 0, 108, 0, 0, 20, 0, 0, 0, 0, 0, 0, 0…\n$ `Exter Qual`      <chr> \"TA\", \"TA\", \"TA\", \"Gd\", \"TA\", \"TA\", \"Gd\", …\n$ `Exter Cond`      <chr> \"TA\", \"TA\", \"TA\", \"TA\", \"TA\", \"TA\", \"TA\", …\n$ Foundation        <chr> \"CBlock\", \"CBlock\", \"CBlock\", \"CBlock\", \"P…\n$ `Bsmt Qual`       <chr> \"TA\", \"TA\", \"TA\", \"TA\", \"Gd\", \"TA\", \"Gd\", …\n$ `Bsmt Cond`       <chr> \"Gd\", \"TA\", \"TA\", \"TA\", \"TA\", \"TA\", \"TA\", …\n$ `Bsmt Exposure`   <chr> \"Gd\", \"No\", \"No\", \"No\", \"No\", \"No\", \"Mn\", …\n$ `BsmtFin Type 1`  <chr> \"BLQ\", \"Rec\", \"ALQ\", \"ALQ\", \"GLQ\", \"GLQ\", …\n$ `BsmtFin SF 1`    <int> 639, 468, 923, 1065, 791, 602, 616, 263, 1…\n$ `BsmtFin Type 2`  <chr> \"Unf\", \"LwQ\", \"Unf\", \"Unf\", \"Unf\", \"Unf\", …\n$ `BsmtFin SF 2`    <int> 0, 144, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0…\n$ `Bsmt Unf SF`     <int> 441, 270, 406, 1045, 137, 324, 722, 1017, …\n$ `Total Bsmt SF`   <int> 1080, 882, 1329, 2110, 928, 926, 1338, 128…\n$ Heating           <chr> \"GasA\", \"GasA\", \"GasA\", \"GasA\", \"GasA\", \"G…\n$ `Heating QC`      <chr> \"Fa\", \"TA\", \"TA\", \"Ex\", \"Gd\", \"Ex\", \"Ex\", …\n$ `Central Air`     <chr> \"Y\", \"Y\", \"Y\", \"Y\", \"Y\", \"Y\", \"Y\", \"Y\", \"Y…\n$ Electrical        <chr> \"SBrkr\", \"SBrkr\", \"SBrkr\", \"SBrkr\", \"SBrkr…\n$ `1st Flr SF`      <int> 1656, 896, 1329, 2110, 928, 926, 1338, 128…\n$ `2nd Flr SF`      <int> 0, 0, 0, 0, 701, 678, 0, 0, 0, 776, 892, 0…\n$ `Low Qual Fin SF` <int> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …\n$ `Gr Liv Area`     <int> 1656, 896, 1329, 2110, 1629, 1604, 1338, 1…\n$ `Bsmt Full Bath`  <int> 1, 0, 0, 1, 0, 0, 1, 0, 1, 0, 0, 1, 0, 1, …\n$ `Bsmt Half Bath`  <int> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …\n$ `Full Bath`       <int> 1, 1, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 1, …\n$ `Half Bath`       <int> 0, 0, 1, 1, 1, 1, 0, 0, 0, 1, 1, 0, 1, 1, …\n$ `Bedroom AbvGr`   <int> 3, 2, 3, 3, 3, 3, 2, 2, 2, 3, 3, 3, 3, 2, …\n$ `Kitchen AbvGr`   <int> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, …\n$ `Kitchen Qual`    <chr> \"TA\", \"TA\", \"Gd\", \"Ex\", \"TA\", \"Gd\", \"Gd\", …\n$ `TotRms AbvGrd`   <int> 7, 5, 6, 8, 6, 7, 6, 5, 5, 7, 7, 6, 7, 5, …\n$ Functional        <chr> \"Typ\", \"Typ\", \"Typ\", \"Typ\", \"Typ\", \"Typ\", …\n$ Fireplaces        <int> 2, 0, 0, 2, 1, 1, 0, 0, 1, 1, 1, 0, 1, 1, …\n$ `Fireplace Qu`    <chr> \"Gd\", NA, NA, \"TA\", \"TA\", \"Gd\", NA, NA, \"T…\n$ `Garage Type`     <chr> \"Attchd\", \"Attchd\", \"Attchd\", \"Attchd\", \"A…\n$ `Garage Yr Blt`   <int> 1960, 1961, 1958, 1968, 1997, 1998, 2001, …\n$ `Garage Finish`   <chr> \"Fin\", \"Unf\", \"Unf\", \"Fin\", \"Fin\", \"Fin\", …\n$ `Garage Cars`     <int> 2, 1, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, …\n$ `Garage Area`     <int> 528, 730, 312, 522, 482, 470, 582, 506, 60…\n$ `Garage Qual`     <chr> \"TA\", \"TA\", \"TA\", \"TA\", \"TA\", \"TA\", \"TA\", …\n$ `Garage Cond`     <chr> \"TA\", \"TA\", \"TA\", \"TA\", \"TA\", \"TA\", \"TA\", …\n$ `Paved Drive`     <chr> \"P\", \"Y\", \"Y\", \"Y\", \"Y\", \"Y\", \"Y\", \"Y\", \"Y…\n$ `Wood Deck SF`    <int> 210, 140, 393, 0, 212, 360, 0, 0, 237, 140…\n$ `Open Porch SF`   <int> 62, 0, 36, 0, 34, 36, 0, 82, 152, 60, 84, …\n$ `Enclosed Porch`  <int> 0, 0, 0, 0, 0, 0, 170, 0, 0, 0, 0, 0, 0, 0…\n$ `3Ssn Porch`      <int> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …\n$ `Screen Porch`    <int> 0, 120, 0, 0, 0, 0, 0, 144, 0, 0, 0, 0, 0,…\n$ `Pool Area`       <int> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …\n$ `Pool QC`         <chr> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…\n$ Fence             <chr> NA, \"MnPrv\", NA, NA, \"MnPrv\", NA, NA, NA, …\n$ `Misc Feature`    <chr> NA, NA, \"Gar2\", NA, NA, NA, NA, NA, NA, NA…\n$ `Misc Val`        <int> 0, 0, 12500, 0, 0, 0, 0, 0, 0, 0, 0, 500, …\n$ `Mo Sold`         <int> 5, 6, 6, 4, 3, 6, 4, 1, 3, 6, 4, 3, 5, 2, …\n$ `Yr Sold`         <int> 2010, 2010, 2010, 2010, 2010, 2010, 2010, …\n$ `Sale Type`       <chr> \"WD \", \"WD \", \"WD \", \"WD \", \"WD \", \"WD \", …\n$ `Sale Condition`  <chr> \"Normal\", \"Normal\", \"Normal\", \"Normal\", \"N…\n$ SalePrice         <int> 215000, 105000, 172000, 244000, 189900, 19…\n\n우리가 궁금해 하는 것은 $SalePrice 위의 변수를 살펴보았을 때 관심이 가는 변수는 $ Year Built\n3. 데이터 분석: 리모델링이 주택가격에 영향을 미칠 것인가?\n일반적으로 건물은 노후할 수록 감가가 이루어질 것으로 예측할 수 있다. 데이터를 통해 실제로 건물이 지어진지 오래될 수록 가격이 덜 나가는지 살펴보도록하자. 이후에 건물이 노후할 수록 sale price가 싸다면 리모델링을 할 경우 그렇지 않은 경우보다 더 높은 가격에 매매할 수 있을지 알아보도록하자.\n1)Year Built에 따른 SalePrice 차이\n\n\nShow code\n\nyd <- ames_raw %>% select(`Year Remod/Add`, SalePrice)\nggplot(data=yd, aes(x = `Year Remod/Add`, y = SalePrice))+geom_point()\n\n\n\n\n위의 그래프를 통해 대체로 최근 지어진 건물일 수록 가격이 높아지는 것으로 볼 수 있지만, 저가의 건물들을 비교하면 건축년도와 관계없이 비슷한 가격대에 형성되어 있음을 알 수 있어서 판단이 쉽지 않다. 20년마다 데이터를 묶어서 1960년 이전, 1980년 이전, 2000년 이전에 지어진 주택과 200년 이후에 지어진 주택의 범주별로 주택가격을 비교해보자.\n2) 20년범주로 기간 나누어서 주택가격 비교\n\n\nShow code\n\names_raw <- ames_raw %>% \n  mutate(y_built = ifelse(`Year Built`<1960, \"~1960\",\n                          ifelse(`Year Built` <=1980, \"~1980\",\n                                 ifelse(`Year Built` <=2000, \"~2000\",\"2000~\"))))\ntable(ames_raw$y_built)\n\n\n\n~1960 ~1980 ~2000 2000~ \n  972   748   475   735 \n\n\n\nShow code\n\names_price <- ames_raw %>% \n                filter(!is.na(SalePrice)) %>% \n                group_by(y_built) %>% \n                summarise(mean_saleprice = mean(SalePrice))\n      \names_price\n\n\n# A tibble: 4 x 2\n  y_built mean_saleprice\n  <chr>            <dbl>\n1 ~1960          132489.\n2 ~1980          152346.\n3 ~2000          217415.\n4 2000~          249968.\n\n\n\nShow code\n\nggplot(data = ames_raw, aes(x = y_built, y = SalePrice))+geom_boxplot()\n\n\n\n\n3) 리모델링이 이루어진 경우 기간별 주택가격 비교(1년이내 리모델링 구분)\n변수를 리모델링이 이루어지지 않은 주택은 nonremod, 리모델링이 준공 후 1년이내에 이루어진 주택이면 remod1, 1년 이후에 이루어진 경우는 remod2로 한다. 리모델링이 1년 이내에 이루어진 경우는 노후에 의한 재건축/리모델링 보다 하자수리 또는 기존 공사 보강으로 보았다.\n\n\nShow code\n\names_raw <- ames_raw %>% \n  mutate(Year = `Year Remod/Add`-`Year Built`) %>% \n  mutate( yy = ifelse(Year == 1, \"remod1\",\n                      ifelse(Year > 1, \"remod2\", \"nonremod\")))\n\ntable(ames_raw$yy)\n\n\n\nnonremod   remod1   remod2 \n    1570      434      926 \n\n\n\nShow code\n\nyy_price <- ames_raw %>% \n                filter(!is.na(SalePrice)) %>% \n                group_by(y_built, yy) %>% \n                summarise(mean_saleprice = mean(SalePrice))\n\nyy_price\n\n\n# A tibble: 12 x 3\n# Groups:   y_built [4]\n   y_built yy       mean_saleprice\n   <chr>   <chr>             <dbl>\n 1 ~1960   nonremod        130112.\n 2 ~1960   remod1          112646.\n 3 ~1960   remod2          133469.\n 4 ~1980   nonremod        146990.\n 5 ~1980   remod1          154850 \n 6 ~1980   remod2          173144.\n 7 ~2000   nonremod        211004.\n 8 ~2000   remod1          230418.\n 9 ~2000   remod2          210325.\n10 2000~   nonremod        242020.\n11 2000~   remod1          264887.\n12 2000~   remod2          213317.\n\n\n\nShow code\n\nggplot(data = ames_raw, aes(x = y_built, y = SalePrice, fill = yy))+geom_boxplot()\n\n\n\n\n4) 1년이내 리모델링 0년 간주\n\n\nShow code\n\names_raw <- ames_raw %>% \n  mutate(Year = `Year Remod/Add`-`Year Built`) %>% \n  mutate( y_re = ifelse(Year > 1, \"re\", \"n_re\"))\n\ntable(ames_raw$y_re)\n\n\n\nn_re   re \n2004  926 \n\n\n\nShow code\n\ny_re_price <- ames_raw %>% \n                filter(!is.na(SalePrice)) %>% \n                group_by(y_built, y_re) %>% \n                summarise(mean_saleprice = mean(SalePrice))\n\ny_re_price\n\n\n# A tibble: 8 x 3\n# Groups:   y_built [4]\n  y_built y_re  mean_saleprice\n  <chr>   <chr>          <dbl>\n1 ~1960   n_re         129449.\n2 ~1960   re           133469.\n3 ~1980   n_re         147042.\n4 ~1980   re           173144.\n5 ~2000   n_re         217944.\n6 ~2000   re           210325.\n7 2000~   n_re         250270.\n8 2000~   re           213317.\n\n\n\nShow code\n\nggplot(data = ames_raw, aes(x = y_built, y = SalePrice, fill = y_re))+geom_boxplot()\n\n\n\n\n\n\n\n",
    "preview": "posts/2021-03-14-ameshousing/ameshousing_files/figure-html5/unnamed-chunk-2-1.png",
    "last_modified": "2021-03-14T14:30:07+00:00",
    "input_file": {}
  }
]
